"use strict";(self.webpackChunkregla_docs=self.webpackChunkregla_docs||[]).push([[9792],{3059:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"code-breakdown/by-file/import-data-from-db","title":"import_data_from_db.py","description":"This file consists of code that handles data retrieval.","source":"@site/docs/code-breakdown/by-file/import-data-from-db.md","sourceDirName":"code-breakdown/by-file","slug":"/code-breakdown/by-file/import-data-from-db","permalink":"/edelweiss-documenation/docs/code-breakdown/by-file/import-data-from-db","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"import_data_from_db.py","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"db_connect.py","permalink":"/edelweiss-documenation/docs/code-breakdown/by-file/db-connect"},"next":{"title":"consumer.py","permalink":"/edelweiss-documenation/docs/code-breakdown/by-file/consumer"}}');var c=s(4848),t=s(8453);const d={title:"import_data_from_db.py",sidebar_position:1},i="\ud83d\udcc2 File : import_data_from_db.py",o={},a=[{value:"<strong>\u2699\ufe0f get_table_value(conn, activity_code)</strong>",id:"\ufe0f-get_table_valueconn-activity_code",level:2},{value:"<strong>\u2699\ufe0f mev_data(conn, pkid)</strong>",id:"\ufe0f-mev_dataconn-pkid",level:2},{value:"<strong>\u2699\ufe0f odr_data(conn, pkid)</strong>",id:"\ufe0f-odr_dataconn-pkid",level:2},{value:"<strong>\u2699\ufe0f check_status(conn,pkid)</strong>",id:"\ufe0f-check_statusconnpkid",level:2}];function l(e){const n={admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"-file--import_data_from_dbpy",children:"\ud83d\udcc2 File : import_data_from_db.py"})}),"\n",(0,c.jsx)(n.p,{children:"This file consists of code that handles data retrieval."}),"\n",(0,c.jsx)(n.h2,{id:"\ufe0f-get_table_valueconn-activity_code",children:(0,c.jsx)(n.strong,{children:"\u2699\ufe0f get_table_value(conn, activity_code)"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"def get_table_value(conn,activity_code):\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Function Description"}),(0,c.jsx)(n.br,{}),"\n","To get table(s) used for a certain element process based on the activity code input."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udccc Parameters"})}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Name"}),(0,c.jsx)(n.th,{children:"Type"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"conn"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"psycopg2.extensions.connection"})}),(0,c.jsx)(n.td,{children:"Database connection object."})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"activity_code"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"Activity code to filter used data."})]})]})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 1 : Check Database Connection"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"if conn:\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["This checks if the ",(0,c.jsx)(n.code,{children:"conn"})," object (the database connection) is valid. If it's ",(0,c.jsx)(n.code,{children:"none"})," or otherwise evaluates to ",(0,c.jsx)(n.code,{children:"False"}),", the function will not proceed with the database query."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 2 : Cursor Creation"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"cursor = conn.cursor()\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Cursor is used to execute SQL queries and fetch results from the database."}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 3 : Database Query"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:'query = """ SELECT\r\n                    a.variable,\r\n                    a."value" as value_variable,\r\n                    a.type_data,\r\n                    b.table_name,\r\n                    b.value\r\n                    FROM public."WorkflowResourceVariables" as a\r\n                    left join public."WorkflowResourceTables" as b\r\n                    on a.pkid=b.workflow_resource_variables_pkid\r\n                    where a.activity_code=%s """\n'})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"This query retrieves the informations needed to run an element process based on the provided activity code."}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"More Information"}),(0,c.jsx)(n.br,{}),"\n",(0,c.jsx)(n.code,{children:"where a.activity_code=%s"})," , %s is a placeholder."]}),"\n",(0,c.jsx)(n.admonition,{type:"info",children:(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Why do we use the %s placeholder?"}),(0,c.jsx)(n.br,{}),"\n","To prevent SQL injection vulnerabilities."]})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 4 : Retrieving Data"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"df = pd.read_sql_query(query, conn, params=(activity_code,))\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"pd.read_sql_query"})," function executes the query and retrieve the results into a Pandas DataFrame."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 5 : Return Dataframe"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"return df\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Function returns dataframe containing the query result."}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\ufe0f-mev_dataconn-pkid",children:(0,c.jsx)(n.strong,{children:"\u2699\ufe0f mev_data(conn, pkid)"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"def mev_data(conn, pkid):\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Function Description"}),(0,c.jsx)(n.br,{}),"\n","To retrieve data from the ",(0,c.jsx)(n.code,{children:"MevResultFileDetail"})," table based on the activity code provided."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udccc Parameters"})}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Name"}),(0,c.jsx)(n.th,{children:"Type"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"conn"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"psycopg2.extensions.connection"})}),(0,c.jsx)(n.td,{children:"Database connection object."})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"pkid"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"Activity code to filter used data."})]})]})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 1 : Check Database Connection"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"if conn:\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["This checks if the ",(0,c.jsx)(n.code,{children:"conn"})," object (the database connection) is valid. If it's ",(0,c.jsx)(n.code,{children:"none"})," or otherwise evaluates to ",(0,c.jsx)(n.code,{children:"False"}),", the function will not proceed with the database query."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 2 : Cursor Creation"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"cursor = conn.cursor()\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Cursor is used to execute SQL queries and fetch results from the database."}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 3 : Database Query"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:'query = "SELECT me_periode, mev_code_master as me_code, me_value FROM public.\\"MevResultFileDetail\\" WHERE activity_code= %s"\n'})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"This query retrieves the MEV data from the row where it matches the activity code."}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"More Information"}),(0,c.jsx)(n.br,{}),"\n",(0,c.jsx)(n.code,{children:"where a.activity_code=%s"})," , %s is a placeholder."]}),"\n",(0,c.jsx)(n.admonition,{type:"info",children:(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Why do we use the %s placeholder?"}),(0,c.jsx)(n.br,{}),"\n","To prevent SQL injection vulnerabilities."]})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 4 : Retrieving Data"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"df = pd.read_sql_query(query, conn, params=(pkid,))\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"pd.read_sql_query"})," function executes the query and retrieve the results into a Pandas DataFrame."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 5 : Return Dataframe"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"return df\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Function returns dataframe containing the query result."}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\ufe0f-odr_dataconn-pkid",children:(0,c.jsx)(n.strong,{children:"\u2699\ufe0f odr_data(conn, pkid)"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"def odr_data(conn, pkid):\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Function Description"}),(0,c.jsx)(n.br,{}),"\n","To retrieve data from the ",(0,c.jsx)(n.code,{children:"OdrResultFileDetail"})," table based on the activity code provided."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udccc Parameters"})}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Name"}),(0,c.jsx)(n.th,{children:"Type"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"conn"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"psycopg2.extensions.connection"})}),(0,c.jsx)(n.td,{children:"Database connection object."})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"pkid"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"Activity code to filter used data."})]})]})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 1 : Check Database Connection"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"if conn:\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["This checks if the ",(0,c.jsx)(n.code,{children:"conn"})," object (the database connection) is valid. If it's ",(0,c.jsx)(n.code,{children:"none"})," or otherwise evaluates to ",(0,c.jsx)(n.code,{children:"False"}),", the function will not proceed with the database query."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 2 : Cursor Creation"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"cursor = conn.cursor()\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Cursor is used to execute SQL queries and fetch results from the database."}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 3 : Database Query"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:'query = "SELECT base_date as period, pd_role_name, odr FROM public.\\"OdrResultFileDetail\\" WHERE activity_code= %s"\n'})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"This query retrieves ODR data from the row where it matches the activity code."}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"More Information"}),(0,c.jsx)(n.br,{}),"\n",(0,c.jsx)(n.code,{children:"where a.activity_code=%s"})," , %s is a placeholder."]}),"\n",(0,c.jsx)(n.admonition,{type:"info",children:(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Why do we use the %s placeholder?"}),(0,c.jsx)(n.br,{}),"\n","To prevent SQL injection vulnerabilities."]})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 4 : Retrieving Data"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"df = pd.read_sql_query(query, conn, params=(pkid,))\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"pd.read_sql_query"})," function executes the query and retrieve the results into a Pandas DataFrame."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 5 : Return Dataframe"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"return df\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Function returns dataframe containing the query result."}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\ufe0f-check_statusconnpkid",children:(0,c.jsx)(n.strong,{children:"\u2699\ufe0f check_status(conn,pkid)"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"def check_status(conn,pkid):\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Function Description"}),(0,c.jsx)(n.br,{}),"\n","To retrieve activity code status from ",(0,c.jsx)(n.code,{children:"ApplicationEngineServices"})," table. (Run/Success/Cancelled)"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udccc Parameters"})}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Name"}),(0,c.jsx)(n.th,{children:"Type"}),(0,c.jsx)(n.th,{children:"Description"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"conn"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"psycopg2.extensions.connection"})}),(0,c.jsx)(n.td,{children:"Database connection object."})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"pkid"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"string"})}),(0,c.jsx)(n.td,{children:"Activity code to filter used data."})]})]})]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 1 : Check Database Connection"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"if conn:\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:["This checks if the ",(0,c.jsx)(n.code,{children:"conn"})," object (the database connection) is valid. If it's ",(0,c.jsx)(n.code,{children:"none"})," or otherwise evaluates to ",(0,c.jsx)(n.code,{children:"False"}),", the function will not proceed with the database query."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 2 : Cursor Creation"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"cursor = conn.cursor()\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Cursor is used to execute SQL queries and fetch results from the database."}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 3 : Database Query"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:'query = "SELECT activity_code,label,run_status FROM public.\\"ApplicationEngineServices\\" WHERE activity_code= %s"\n'})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"This query retrieves activity code run status from the table ApplicationEngineServices."}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"More Information"}),(0,c.jsx)(n.br,{}),"\n",(0,c.jsx)(n.code,{children:"where a.activity_code=%s"})," , %s is a placeholder."]}),"\n",(0,c.jsx)(n.admonition,{type:"info",children:(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Why do we use the %s placeholder?"}),(0,c.jsx)(n.br,{}),"\n","To prevent SQL injection vulnerabilities."]})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 4 : Retrieving Data"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"df = pd.read_sql_query(query, conn, params=(pkid,))\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"pd.read_sql_query"})," function executes the query and retrieve the results into a Pandas DataFrame."]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)("span",{class:"bold-large",children:(0,c.jsx)(n.strong,{children:"\ud83d\udd37 Step 5 : Return Dataframe"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-python",children:"return df\n"})}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"Function returns dataframe containing the query result."}),"\n"]}),"\n",(0,c.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>i});var r=s(6540);const c={},t=r.createContext(c);function d(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);